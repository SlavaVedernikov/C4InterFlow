<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="940px" preserveAspectRatio="none" style="width:817px;height:940px;background:#FFFFFF;" version="1.1" viewBox="0 0 817 940" width="817px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="789" x="10" y="29.5332">dotnet - eShop - Architecture - Basket Api - Grpc - Basket Service - Update Basket - Sequence - Component level</text><rect fill="#FFFFFF" height="889.9531" style="stroke:#181818;stroke-width:0.5;" width="116" x="153.5" y="44.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="196.5" y="58.1045">Grpc</text><rect fill="#FFFFFF" height="889.9531" style="stroke:#181818;stroke-width:0.5;" width="363" x="347" y="44.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29" x="514" y="58.1045">Data</text><rect fill="none" height="737.0313" style="stroke:#000000;stroke-width:1.5;" width="598.5" x="137.5" y="144.9219"/><rect fill="none" height="61.7031" style="stroke:#000000;stroke-width:1.5;" width="246" x="147.5" y="170.2734"/><rect fill="none" height="61.7031" style="stroke:#000000;stroke-width:1.5;" width="207" x="147.5" y="289.3281"/><rect fill="none" height="284.8125" style="stroke:#000000;stroke-width:1.5;" width="395" x="331" y="395.3828"/><rect fill="none" height="135.4063" style="stroke:#000000;stroke-width:1.5;" width="375" x="341" y="537.7891"/><rect fill="none" height="61.7031" style="stroke:#000000;stroke-width:1.5;" width="254" x="147.5" y="694.1953"/><rect fill="none" height="61.7031" style="stroke:#000000;stroke-width:1.5;" width="272" x="147.5" y="813.25"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="101" x2="101" y1="97.5703" y2="898.9531"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="211.5" x2="211.5" y1="97.5703" y2="898.9531"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="435" x2="435" y1="97.5703" y2="898.9531"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="648" x2="648" y1="97.5703" y2="898.9531"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="65" x="69" y="64.9609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="76" y="86.4941">External</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="65" x="69" y="897.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="76" y="919.4863">External</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="108" x="157.5" y="64.9609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="164.5" y="86.4941">Basket Service</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="108" x="157.5" y="897.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="164.5" y="919.4863">Basket Service</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="169" x="351" y="64.9609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155" x="358" y="86.4941">Redis Basket Repository</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="169" x="351" y="897.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155" x="358" y="919.4863">Redis Basket Repository</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="591" y="64.9609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="598" y="86.4941">Redis Database</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="591" y="897.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="598" y="919.4863">Redis Database</text><polygon fill="#181818" points="199.5,125.9219,209.5,129.9219,199.5,133.9219,203.5,129.9219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="101.5" x2="205.5" y1="129.9219" y2="129.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="108.5" y="125.0654">Update Basket</text><path d="M137.5,144.9219 L273.5,144.9219 L273.5,153.2734 L263.5,163.2734 L137.5,163.2734 L137.5,144.9219 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="737.0313" style="stroke:#000000;stroke-width:1.5;" width="598.5" x="137.5" y="144.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="91" x="152.5" y="159.417">Update Basket</text><path d="M147.5,170.2734 L208.5,170.2734 L208.5,178.625 L198.5,188.625 L147.5,188.625 L147.5,170.2734 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="61.7031" style="stroke:#000000;stroke-width:1.5;" width="246" x="147.5" y="170.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="162.5" y="184.7686">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="165" x="223.5" y="183.6924">[string.IsNullOrEmpty(userId)]</text><line style="stroke:#181818;stroke-width:1.0;" x1="211.5" x2="253.5" y1="210.9766" y2="210.9766"/><line style="stroke:#181818;stroke-width:1.0;" x1="253.5" x2="253.5" y1="210.9766" y2="223.9766"/><line style="stroke:#181818;stroke-width:1.0;" x1="212.5" x2="253.5" y1="223.9766" y2="223.9766"/><polygon fill="#181818" points="222.5,219.9766,212.5,223.9766,222.5,227.9766,218.5,223.9766" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="218.5" y="206.1201">Throw Not Authenticated</text><line style="stroke:#181818;stroke-width:1.0;" x1="211.5" x2="253.5" y1="261.3281" y2="261.3281"/><line style="stroke:#181818;stroke-width:1.0;" x1="253.5" x2="253.5" y1="261.3281" y2="274.3281"/><line style="stroke:#181818;stroke-width:1.0;" x1="212.5" x2="253.5" y1="274.3281" y2="274.3281"/><polygon fill="#181818" points="222.5,270.3281,212.5,274.3281,222.5,278.3281,218.5,274.3281" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="218.5" y="256.4717">Map To Customer Basket</text><path d="M147.5,289.3281 L349.5,289.3281 L349.5,297.6797 L339.5,307.6797 L147.5,307.6797 L147.5,289.3281 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="61.7031" style="stroke:#000000;stroke-width:1.5;" width="207" x="147.5" y="289.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="157" x="162.5" y="303.8232">Map To Customer Basket</text><line style="stroke:#181818;stroke-width:1.0;" x1="211.5" x2="253.5" y1="330.0313" y2="330.0313"/><line style="stroke:#181818;stroke-width:1.0;" x1="253.5" x2="253.5" y1="330.0313" y2="343.0313"/><line style="stroke:#181818;stroke-width:1.0;" x1="212.5" x2="253.5" y1="343.0313" y2="343.0313"/><polygon fill="#181818" points="222.5,339.0313,212.5,343.0313,222.5,347.0313,218.5,343.0313" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103" x="218.5" y="325.1748">Return (response)</text><polygon fill="#181818" points="423.5,376.3828,433.5,380.3828,423.5,384.3828,427.5,380.3828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="211.5" x2="429.5" y1="380.3828" y2="380.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="218.5" y="375.5264">Update Basket Async</text><path d="M331,395.3828 L508,395.3828 L508,403.7344 L498,413.7344 L331,413.7344 L331,395.3828 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="284.8125" style="stroke:#000000;stroke-width:1.5;" width="395" x="331" y="395.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="132" x="346" y="409.8779">Update Basket Async</text><polygon fill="#181818" points="636.5,432.0859,646.5,436.0859,636.5,440.0859,640.5,436.0859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="435.5" x2="642.5" y1="436.0859" y2="436.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="442.5" y="431.2295">String Set Async</text><line style="stroke:#181818;stroke-width:1.0;" x1="435.5" x2="477.5" y1="466.4375" y2="466.4375"/><line style="stroke:#181818;stroke-width:1.0;" x1="477.5" x2="477.5" y1="466.4375" y2="479.4375"/><line style="stroke:#181818;stroke-width:1.0;" x1="436.5" x2="477.5" y1="479.4375" y2="479.4375"/><polygon fill="#181818" points="446.5,475.4375,436.5,479.4375,446.5,483.4375,442.5,479.4375" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="442.5" y="461.5811">Get Basket Key</text><line style="stroke:#181818;stroke-width:1.0;" x1="435.5" x2="477.5" y1="509.7891" y2="509.7891"/><line style="stroke:#181818;stroke-width:1.0;" x1="477.5" x2="477.5" y1="509.7891" y2="522.7891"/><line style="stroke:#181818;stroke-width:1.0;" x1="436.5" x2="477.5" y1="522.7891" y2="522.7891"/><polygon fill="#181818" points="446.5,518.7891,436.5,522.7891,446.5,526.7891,442.5,522.7891" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="442.5" y="504.9326">Get Basket Async</text><path d="M341,537.7891 L495,537.7891 L495,546.1406 L485,556.1406 L341,556.1406 L341,537.7891 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="135.4063" style="stroke:#000000;stroke-width:1.5;" width="375" x="341" y="537.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="109" x="356" y="552.2842">Get Basket Async</text><polygon fill="#181818" points="636.5,574.4922,646.5,578.4922,636.5,582.4922,640.5,578.4922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="435.5" x2="642.5" y1="578.4922" y2="578.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="442.5" y="573.6357">String Get Lease Async</text><line style="stroke:#181818;stroke-width:1.0;" x1="435.5" x2="477.5" y1="608.8438" y2="608.8438"/><line style="stroke:#181818;stroke-width:1.0;" x1="477.5" x2="477.5" y1="608.8438" y2="621.8438"/><line style="stroke:#181818;stroke-width:1.0;" x1="436.5" x2="477.5" y1="621.8438" y2="621.8438"/><polygon fill="#181818" points="446.5,617.8438,436.5,621.8438,446.5,625.8438,442.5,621.8438" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="442.5" y="603.9873">Get Basket Key</text><line style="stroke:#181818;stroke-width:1.0;" x1="435.5" x2="477.5" y1="652.1953" y2="652.1953"/><line style="stroke:#181818;stroke-width:1.0;" x1="477.5" x2="477.5" y1="652.1953" y2="665.1953"/><line style="stroke:#181818;stroke-width:1.0;" x1="436.5" x2="477.5" y1="665.1953" y2="665.1953"/><polygon fill="#181818" points="446.5,661.1953,436.5,665.1953,446.5,669.1953,442.5,665.1953" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="442.5" y="647.3389">Return (JsonSerializer.Deserialize)</text><path d="M147.5,694.1953 L208.5,694.1953 L208.5,702.5469 L198.5,712.5469 L147.5,712.5469 L147.5,694.1953 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="61.7031" style="stroke:#000000;stroke-width:1.5;" width="254" x="147.5" y="694.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="162.5" y="708.6904">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="98" x="223.5" y="707.6143">[response is null]</text><line style="stroke:#181818;stroke-width:1.0;" x1="211.5" x2="253.5" y1="734.8984" y2="734.8984"/><line style="stroke:#181818;stroke-width:1.0;" x1="253.5" x2="253.5" y1="734.8984" y2="747.8984"/><line style="stroke:#181818;stroke-width:1.0;" x1="212.5" x2="253.5" y1="747.8984" y2="747.8984"/><polygon fill="#181818" points="222.5,743.8984,212.5,747.8984,222.5,751.8984,218.5,747.8984" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171" x="218.5" y="730.042">Throw Basket Does Not Exist</text><line style="stroke:#181818;stroke-width:1.0;" x1="211.5" x2="253.5" y1="785.25" y2="785.25"/><line style="stroke:#181818;stroke-width:1.0;" x1="253.5" x2="253.5" y1="785.25" y2="798.25"/><line style="stroke:#181818;stroke-width:1.0;" x1="212.5" x2="253.5" y1="798.25" y2="798.25"/><polygon fill="#181818" points="222.5,794.25,212.5,798.25,222.5,802.25,218.5,798.25" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="210" x="218.5" y="780.3936">Map To Customer Basket Response</text><path d="M147.5,813.25 L414.5,813.25 L414.5,821.6016 L404.5,831.6016 L147.5,831.6016 L147.5,813.25 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="61.7031" style="stroke:#000000;stroke-width:1.5;" width="272" x="147.5" y="813.25"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="222" x="162.5" y="827.7451">Map To Customer Basket Response</text><line style="stroke:#181818;stroke-width:1.0;" x1="211.5" x2="253.5" y1="853.9531" y2="853.9531"/><line style="stroke:#181818;stroke-width:1.0;" x1="253.5" x2="253.5" y1="853.9531" y2="866.9531"/><line style="stroke:#181818;stroke-width:1.0;" x1="212.5" x2="253.5" y1="866.9531" y2="866.9531"/><polygon fill="#181818" points="222.5,862.9531,212.5,866.9531,222.5,870.9531,218.5,866.9531" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103" x="218.5" y="849.0967">Return (response)</text><!--SRC=[xLPBRzim3BxhLn3PfJt4fvrs690bMP4zEY3kiBDgSuqmHz94kedtwqVPSHstpT33F23631Ws7pQ_ZwGaik428NTiaM4Ac6wSb-SiP1l3c74PKCHtcdw8VUQD25V1PvqknN1likZqrUUQiTLFnVApH5kRvcxhdKNBKE0z5afv7TXancjHJPPxnc1rCG5DC7-ziYA-BzmkITrttkc0QKMCMqfQnqPMwjRjOT9Xcy2hRn6r0haQOyJQK_S2zodKuPjC97KUakCiF07JV2nXaxcph8t5G4cCbpomRPqE0HJQ70IMEWAuqAnF0rnZRgZDw1gz8yCkL7y3QGnyZBGErNXsWKuXYX_VQiB1WBG1kfGzlAYNTmXCtmvQK7ZJRtfr5rpf7-bqmK0SZBrBLdHT5iMNiDnwhYvAmh3ABzMW28VFmCqck1rSErc29M_4nMJ2Fey5EtTgdxM76mVpajXjCVIhVC9uvfJNAF-oS16Gn8NmyXpg-AAzxF5YXHbLDdjkoHui_mJKGEJR_LD8f_NU8uVS67WzKzGh8NQesqUiHipkk5-VgCVLh97U9uog_orxTkpQ8-G3EIjxlD65-OKXMI2rGdEen3iEH-rH0p9OMfcFnZ4G7UgxS4ZrSBJS6-Bn3aLIzQQAVvoEEgzHZadnLhy1]--></g></svg>